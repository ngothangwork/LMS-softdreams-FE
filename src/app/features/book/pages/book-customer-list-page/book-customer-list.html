<div class="book-customer-list">
  <div class="search-bar">
    <select [(ngModel)]="type" title="Tìm theo">
      <option value="name">Tên</option>
      <option value="author">Tác giả</option>
      <option value="category">Thể loại</option>
      <option value="publisher">Nhà xuất bản</option>
    </select>
    <input
      type="text"
      placeholder="Nhập từ khóa..."
      [(ngModel)]="searchKeyword"
      (keydown.enter)="onSearchClick()"
    />
    <button (click)="onSearchClick()">Tìm kiếm</button>

  </div>

  <div class="sort-bar">
    <label class="inline-label">Sắp xếp</label>
    <select [(ngModel)]="sortField" (change)="onSortChange()">
      <option value="name">Tên</option>
      <option value="author">Tác giả</option>
      <option value="category">Thể loại</option>
      <option value="publisher">Nhà xuất bản</option>
      <option value="publishedDate">Ngày xuất bản</option>
    </select>

    <select [(ngModel)]="sortDir" (change)="onSortChange()">
      <option value="asc">Tăng dần</option>
      <option value="desc">Giảm dần</option>
    </select>

    <label class="inline-label">Số / trang</label>
    <select [(ngModel)]="size" (change)="onSizeChange()">
      <option *ngFor="let s of pageSizeOptions" [value]="s">{{ s }}</option>
    </select>
  </div>



  <div *ngIf="loading" class="loading">
    Loading books...
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <div class="book-list" *ngIf="!loading && books.length > 0">
    <app-book-card
      *ngFor="let book of books"
      [book]="book"
    ></app-book-card>
  </div>

  <div *ngIf="!loading && books.length === 0" class="no-result">
    Không tìm thấy sách.
  </div>

  <div class="pagination" *ngIf="!loading && (totalPages > 0 || books.length > 0)">
    <button (click)="goToFirst()" [disabled]="page === 0">Đầu</button>
    <button (click)="goToPage(page - 1)" [disabled]="page === 0">Trước</button>

    <span>Trang {{ page + 1 }} / {{ totalPages || 1 }}</span>
    <span class="muted">({{ totalElements }} kết quả)</span>

    <button (click)="goToPage(page + 1)" [disabled]="totalPages ? (page >= totalPages - 1) : (books.length < size)">Sau</button>
    <button (click)="goToLast()" [disabled]="totalPages ? (page >= totalPages - 1) : true">Cuối</button>
  </div>
</div>
